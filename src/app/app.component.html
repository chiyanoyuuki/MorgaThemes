<img class="fond" src="./assets/fond.png"/>
<img [@moveAndRotate]="moveAndRotate" class="stars starsleft" src="./assets/stars.png"/>
<img [@moveAndRotate]="moveAndRotate" class="stars starsright" src="./assets/stars.png"/>

<div class="top">
  <div class="left">
    <div class="flexcenter">
      <div class="file">
        <input type="file" id="fileInput" (change)="read()"/>
        <img src="./assets/bouton.png">
        <p>Charger fichier..</p>
      </div>
    </div>
  
    <div class="informations">
      <p>Prénom : {{informations.prenom}}</p>
      <p>Date de naissance : {{informations.date}}</p>
      <p>Heure de naissance : {{informations.heure}}</p>
      <p>Lieu de naissance : {{informations.lieu}}</p>
      <img class="fondbloc" src="./assets/bloc.png"/>
    </div>

    <p class="title"><img class="star" src="./assets/star.png">{{hover?hover:(clicked?clicked:'Sélectionnez une entité')}}<img class="star" src="./assets/star.png"></p>
  
    <div class="contsvg">
      <div #one class="svg"></div>
    </div>
  </div>

  <div class="center" *ngIf="onglet=='Général' && focus.length>0" [class.showliste]="showListe">
    <div class="arrow clickable" (click)="showListe=!showListe">
      <img src="./assets/roue.png" class="arroww"/>
      <img class="fondbloc" src="./assets/bloc.png"/>
    </div>
    
    <div *ngFor="let obj of focus;let i=index">
      <p class="title clickable" (click)="clickListe(obj)">{{obj.nom}}</p>
      <ng-template [ngIf]="onglet=='Général'">
        <div *ngFor="let data of obj.data">
          <p>{{data.nom?data.nom:data.maison}}</p>
        </div>
      </ng-template>
    </div>
    <img class="fondbloc" src="./assets/bloc.png"/>
  </div>
  
  <div class="right">

    <div class="menu onglets" *ngIf="svgs">
      <div *ngFor="let ong of onglets" class="clickable" [class.clicked]="onglet==ong" (click)="clickOnglet(ong)">
        <p>{{ong}}</p>
        <img class="fondbloc" src="./assets/bloc.png"/>
      </div>
    </div>

    <div *ngIf="onglet=='Général' && desc" class="desc">
      <p class="title"><img class="star" src="./assets/star.png">{{clicked}}<img class="star" src="./assets/star.png"></p>
      <p [innerHTML]="desc"></p>
      <img class="fondbloc" src="./assets/bloc.png"/>
    </div>

    <div class="menu" *ngIf="onglet=='Général'">
      <p *ngFor="let t of types" class="clickable" [class.clicked]="t==type" (click)="type=t">{{t}}</p>
    </div>

    <div class="menu menu2" *ngIf="onglet=='Accueil'&&svgs">
      <p *ngFor="let m of menu" class="clickable" [class.clicked]="clicked2==m" (click)="clicked2=m">{{m}}</p>
    </div>

    <div class="menu menu3" *ngIf="onglet=='Accueil'&&svgs">
      <p class="title" *ngIf="clicked2==menu[0]">{{general.emispherenord.nord}} planètes dans l'emisphère Nord</p>
      <p class="title" *ngIf="clicked2==menu[0]">{{general.emispherenord.sud}} planètes dans l'emisphère Sud</p>
      <p class="title" *ngIf="clicked2==menu[1]">{{general.emisphereest.ouest}} planètes dans l'emisphère Ouest</p>
      <p class="title" *ngIf="clicked2==menu[1]">{{general.emisphereest.est}} planètes dans l'emisphère Est</p>
      <p class="title" *ngIf="clicked2==menu[2]">Yin :<br/>{{elements.terre.length}} éléments terre<br/>{{elements.eau.length}} éléments eau</p>
      <p class="title" *ngIf="clicked2==menu[2]">Yang :<br/>{{elements.feu.length}} éléments feu<br/>{{elements.air.length}} éléments air</p>
    </div>
    
    <div class="menu" *ngIf="onglet=='Général'&&focus.length==0">
      <p *ngIf="onglet=='Général'">Sélectionnez une entité dans le thème astral..</p>
    </div>
    
    <div class="menu menu2 menudomaine" *ngIf="onglet=='Domaines'">
      <p *ngFor="let dom of domaines" class="clickable" [class.clicked]="domaine.nom==dom.nom" (click)="domaine=dom">{{dom.nom}}</p>
    </div>

    <div *ngIf="onglet=='Domaines'" class="domaines">
      <div class="domaine">
        <div class="flex titlestyle">
          <img class="star" src="./assets/star.png">
          <p class="title borderbot">{{domaine.nom}}</p>
          <img class="star" src="./assets/star.png">
        </div>
        <p *ngIf="domaine.domaines.length==0">Pas de données..</p>
        <p *ngFor="let data of domaine.domaines" class="infosdomaine" [innerHTML]="data"></p>
        
        <img class="fondbloc" src="./assets/bloc.png"/>
      </div>
    </div>

    <div #textes class="textes">

      <ng-template [ngIf]="onglet=='Général'">
        <div *ngFor="let obj of getFocus();let i=index" class="data" [class.lastdata]="i==getFocus().length-1">
          <div class="flex titlestyle">
            <img class="star" src="./assets/star.png">
            <p class="title borderbot">{{obj.nom?obj.nom:obj.maison}}</p>
            <img class="star" src="./assets/star.png">
          </div>
          <div class="contenu">
            <div *ngFor="let data of obj.data">
              <p class="title title2">{{data.nom?data.nom:data.maison}}</p>
              <p [innerHTML]="data.data"></p>
            </div>
            <div *ngIf="!obj.data">
              <p class="title">Données manquantes</p>
              <p>...</p>
            </div>
          </div>
          
          <img class="fondbloc" src="./assets/bloc.png"/>
        </div>
      </ng-template>

      <ng-template [ngIf]="onglet=='Accueil'">
        <div *ngFor="let obj of getGeneral();let i=index" class="data" [class.lastdata]="i==getGeneral().length-1">
          <div class="flex titlestyle">
            <img class="star" src="./assets/star.png">
            <p class="title borderbot">{{obj.nom?obj.nom:obj.maison}}</p>
            <img class="star" src="./assets/star.png">
          </div>
          <div class="contenu">
            <div>
              <p [innerHTML]="obj.data"></p>
            </div>
          </div>

          <img class="fondbloc" src="./assets/bloc.png"/>
        </div>
      </ng-template>

    </div>
  </div>
</div>
